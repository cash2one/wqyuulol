var _178func=new function(){this.uriSearchAdrr=this.uriHashArr=[];this.timeHash=function(){var a=new Date;return a=a.getTime()};this.counter=function(a){typeof window.frames["global-hidiframe"]=="undefined"&&jQuery("body").append('<iframe src="about:blank" name="global-hidiframe" id="global-hidiframe" frameborder="0"></iframe>');window.frames["global-hidiframe"].location.replace(a)};this.copyToClipboard=function(a,b,c){b!==!0&&window.clipboardData?(window.clipboardData.setData("Text",a),_ele.alert("<h2>\u590d\u5236\u6210\u529f</h2><p>\u4f60\u73b0\u5728\u53ef\u5c06\u5185\u5bb9\u8fdb\u884c\u7c98\u8d34\uff08CTRL+V\uff09</p>")): _ele.alert('<p style="text-align:center;padding:0 20px 10px 20px">'+(c||"\u8bf7\u9009\u62e9\u4ee5\u4e0b\u4fe1\u606f\u8fdb\u884c\u590d\u5236")+'</p><div class="copytextblock"><textarea>'+a+"</textarea></div>",500)};this.addFav=function(a,b){if(!a)a=document.title;if(!b)b=location.href;if(bIE6)window.external.AddFavorite(b,a);else{var c='<div style="line-height:90px">\u8bf7\u6309<strong>CTRL+D</strong>\u6216';c+=bIE?"\u5355\u51fb\u6d4f\u89c8\u5668\u4e0a\u7684\u201c\u6536\u85cf\u5939\u201d\u661f\u5f62\u6309\u94ae\u8fdb\u884c\u6536\u85cf": bChrome?"\u5355\u51fb\u6d4f\u89c8\u5668\u5730\u5740\u680f\u5de6\u4fa7\u7684\u661f\u5f62\u6309\u94ae\u8fdb\u884c\u6536\u85cf":bSafari?"\u5355\u51fb\u6d4f\u89c8\u5668\u5730\u5740\u680f\u5de6\u4fa7\u7684\u52a0\u53f7\u6309\u94ae\u8fdb\u884c\u6536\u85cf":bFirefox?"\u5355\u51fb\u6d4f\u89c8\u5668\u4e0a\u7684\u201c\u6536\u85cf\u5939\u201d\u661f\u5f62\u6309\u94ae\u8fdb\u884c\u6536\u85cf":bOpera?"\u5355\u51fb\u4e3b\u83dc\u5355\u6309\u94ae\uff0c\u9009\u62e9\u201c\u4e66\u7b7e\u201d -> \u201c\u5c06\u7f51\u9875\u52a0\u5165\u4e66\u7b7e\u201d\u8fdb\u884c\u6536\u85cf": ')">\u8bf7\u4f7f\u7528\u6d4f\u89c8\u5668\u7684\u6536\u85cf\u5939\u529f\u80fd\u6536\u85cf\u672c\u9875';c+="</div>";_ele.alert(c,500)}};this.uriSearch=function(a){if(!this.uriSearchArr.length)for(var b=location.search?location.search.split("?")[1]:"",b=b.split("&"),c=0;c<b.length;c++){var d=b[c].split("=");this.uriSearchArr[d[0]]=d[1]||!1}return!a?location.search.substr(location.search.indexOf("?")+1):this.uriSearchArr[a]||!1};this.uriHash=function(a,b){this.uriHashArr=[];for(var c=location.hash,d= c?c.split("#")[1]:"",d=d.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");this.uriHashArr[f[0]]=f[1]||!1}b=b===0?0:b||!1;if(b!==!1)return location.hash=this.uriHashArr[a]?c.replace(a+"="+this.uriHashArr[a],a+"="+b):c+(c==""?"#":"&")+a+"="+b,b;return!a?location.hash.substr(location.hash.indexOf("#")+1):this.uriHashArr[a]||!1};this.randNumber=function(a){var b=new Date,b=b.getTime();a||(a=1E3);return Math.ceil((b*9301+49297)%233280/233280*a)};this.init=function(){if(_178.isinit||this.uriSearch("imgcounter"))return!1; if(jQuery("body").hasClass("global-imgloader")&&this.uriSearch("img"))jQuery("body").append("<div>"+(this.uriSearch("title")?"<h1>"+decodeURI(unescape(this.uriSearch("title")))+"</h1>":"")+"<h2>"+this.uriSearch("img")+'</h2><div class="global-imgloader"><img src="'+this.uriSearch("img")+'" /></div><div id="global-share"></div></div>'),document.title="\u56fe\u7247"+(this.uriSearch("title")?"\uff1a"+decodeURI(unescape(this.uriSearch("title"))):"");_zhidao.init();_page.searchblock();_page.tabblock(); _page.scrollblock();_page.shareblock();_page.imglinks();_page.linktip();_page.recblock();_menu.init();_slideshow.init();_178.isinit=!0}},_menu=new function(){this.data={};this.cur=this.fadetime=this.submenu=!1;this.init=function(a,b){b=b||jQuery("#menu");if(!b.length||b.hasClass("initted"))return!1;var a=a||this.data,c=jQuery("<div />").addClass("menusub").appendTo(b);jQuery("<div />").appendTo(c);b.find("a").each(function(){if(a[this.rel]){var d=jQuery(this);d.parent().addClass("sub");d.find("span").append("<em />"); d.bind("mouseover",function(){clearTimeout(_menu.fadetime);_menu.fadetime=!1;if(d.hasClass("cur"))return!1;else _menu.hidesub();d.addClass("cur");_menu.cur=this;_menu.submenu=c;for(var e=a[this.rel],f="",g=0;g<e.length;g++)if(e[g]){var k=e[g].url&&e[g].url!=""&&e[g].url!="|";f+=(k?'<a href="'+e[g].url+'" target="_blank"'+(e[g].icon&&e[g].icon!=""?' style="background-image:url('+e[g].icon+')"':"")+">":"<h3>")+"<span>"+e[g].title+"</span></"+(k?"a>":"h3>")}c.find("div").html(f);c.css("top",b.height()- 1).css("left",d.offset().left-b.offset().left-5).slideDown()}).bind("mouseout",function(){c.mouseout()})}});c.css("top",b.height()-1).bind("mousemove",function(){clearTimeout(_menu.fadetime);_menu.fadetime=!1}).bind("mouseout",function(){clearTimeout(_menu.fadetime);_menu.fadetime=setTimeout(function(){_menu.hidesub()},200)})};this.hidesub=function(){jQuery(this.submenu).stop().css({height:"auto",display:"none"});jQuery(this.cur).removeClass("cur");this.cur=this.submenu=!1}},_ele=new function(){this.tempAni= !1;this.blackout=function(a){jQuery("#global-blackout").length==0&&(jQuery("body").append('<div id="global-blackout"></div>'),bIE8&&(jQuery("#global-blackout").css("opacity","0.6"),bIE6&&jQuery("body").bind("resize",function(){jQuery("#global-blackout").css("height",jQuery(window).height()+parseInt(jQuery("body").css("margin-top"))+parseInt(jQuery("body").css("margin-bottom")))})));var b=jQuery("#global-blackout"),c=b.css("display")=="block";bIE6&&b.css("height",jQuery("body").height()+parseInt(jQuery("body").css("margin-top"))+ parseInt(jQuery("body").css("margin-bottom")));return(a===null?c?"hide":!0:a)===!0?(bIE6||b.css("opacity",0).animate({opacity:0.6},400),b.css("display","block"),c=!0,"show"):(b.css("display","none"),c=!1,"hide")};this.imgloaderDOM={};this.imgloaderCheck=!0;this.imgloaderLoaded=this.imgloaderCurImg=!1;this.imgloaderInit=function(){if(jQuery("#global-imgloader").length==0){_ele.imgloaderDOM.loader=jQuery("<div />").attr("id","global-imgloader").click(function(){setTimeout(function(){_ele.imgloaderCheck&& _ele.loadimg("fun-close");_ele.imgloaderCheck=!0},60)});_ele.imgloaderDOM.loaderBody=jQuery("<div />").addClass("global-imgloader-body").bind("click",function(){_ele.imgloaderCheck=!1}).appendTo(_ele.imgloaderDOM.loader);_ele.imgloaderDOM.loaderClose=jQuery("<a />").addClass("global-imgloader-close").attr({href:"#",title:"\u5173\u95ed"}).click(function(){setTimeout(function(){_ele.imgloaderCheck=!0;_ele.imgloaderDOM.loader.click()},50);return!1}).mouseover(function(){_tip.show("\u5173\u95ed",this, !0)}).appendTo(_ele.imgloaderDOM.loaderBody);_ele.imgloaderDOM.loaderLoading=bIE7?jQuery("<div />").addClass("global-imgloader-loading").appendTo(_ele.imgloaderDOM.loaderBody):!1;_ele.imgloaderDOM.loaderImg=jQuery("<div />").addClass("global-imgloader-img").appendTo(_ele.imgloaderDOM.loaderBody);jQuery("<div />").addClass("clearfix").appendTo(_ele.imgloaderDOM.loaderBody);_ele.imgloaderDOM.loaderText=jQuery("<div />").addClass("global-imgloader-text").appendTo(_ele.imgloaderDOM.loaderBody);_ele.imgloaderDOM.loaderTextResize= jQuery("<div />").addClass("global-imgloader-resized").html('\u7531\u4e8e\u5c3a\u5bf8\u8fc7\u5927\uff0c\u8be5\u56fe\u7247\u5df2\u88ab\u7f29\u5c0f<br /><a href="#" target="_blank">\u70b9\u51fb\u6b64\u5904</a>\u67e5\u770b\u539f\u5c3a\u5bf8\u56fe\u7247').appendTo(_ele.imgloaderDOM.loaderText);_ele.imgloaderDOM.loaderTextBlock=jQuery("<span />").appendTo(_ele.imgloaderDOM.loaderText);_ele.imgloaderDOM.loader.appendTo(jQuery("body"));_ele.imgloaderDOM.loaderTextResizeLink=_ele.imgloaderDOM.loaderTextResize.find("a").eq(0); jQuery("#global-blackout").bind("click",function(){setTimeout(function(){_ele.loadimg("fun-close")},60)});var a=jQuery("<div />").attr("id","global-imgloader-arrows").appendTo(_ele.imgloaderDOM.loaderBody);jQuery("<a />").attr("id","global-imgloader-arrow-left").attr("href","#").click(function(){_ele.loadimgArr(-1);return!1}).appendTo(a);jQuery("<a />").attr("id","global-imgloader-arrow-right").attr("href","#").click(function(){_ele.loadimgArr(1);return!1}).appendTo(a);jQuery(window).resize(function(){setTimeout(function(){if(_ele.tempAni)return!1; var a=_ele.imgloaderDOM.loaderImg.find("img");_ele.imgloaderDOM.loaderTextResize.css("display","none");a.css({width:"auto",height:"auto"});var c=imgloaderReize(jQuery(a).width(),jQuery(a).height()),d=jQuery(a).width()!=c.width;_ele.imgloaderDOM.loaderImg.css({width:c.width,height:c.height});a.css({width:c.width,height:c.height,opacity:1});_ele.imgloaderDOM.loader.css("top",c.top+(bIE6?document.documentElement.scrollTop:0));bIE7&&_ele.imgloaderDOM.loader.css({left:c.left,width:c.width+20,height:c.height+ 20});d&&(bIE7&&!bIE6&&_ele.imgloaderDOM.loaderTextResize.css("top",c.height-15),_ele.imgloaderDOM.loaderTextResize.fadeIn())},5)})}};this.imgloaderClose=function(a){if(jQuery("#global-imgloader").length){_tip.hide();_ele.imgloaderDOM.loaderImg.html();if(!_ele.imgloaderDOM.loader.hasClass("loading"))return!1;_ele.imgloaderDOM.loader.stop().removeClass("loading");bIE7&&_ele.imgloaderDOM.loader.css("display","none");_ele.imgloaderDOM.loaderImg.stop().css("width",160).css("height",90);_ele.imgloaderDOM.loaderLoading&& _ele.imgloaderDOM.loaderLoading.stop().css("width",160).css("height",90);_ele.imgloaderDOM.loaderTextBlock.stop().css("height",0);_ele.imgloaderDOM.loaderTextResize.stop().css("display","none");jQuery("#global-imgloader-arrows").stop().css("display","none");_ele.imgloaderCurImg=!1;if(!a)return _ele.blackout(),_ele.imgloaderCheck=!0,_ele.imgloaderLoaded=!1}};this.loadimgArr=function(a){a=this.imgloaderCurImg+a;a>=_page.imgs.length&&(a=0);a<0&&(a=_page.imgs.length-1);this.imgloaderClose(!0);this.imgloaderCurImg= a;_ele.loadimg(_page.imgs[_ele.imgloaderCurImg][0],_page.imgs[_ele.imgloaderCurImg][1]);return!1};this.loadimg=function(a,b){if(!a)return!1;b||(b="\u6587\u7ae0\u56fe\u7247");if(a=="fun-close")return this.imgloaderClose(),!1;_ele.tempAni=!0;_ele.imgloaderLoaded=!1;_ele.blackout(!0);_ele.imgloaderInit();var c=bIE6?document.documentElement.scrollTop:0;_top=imgloaderReize().top+c;_picurl=_178.imgpage+"?img="+a+"&title="+escape(encodeURI(b));_ele.imgloaderDOM.loader.addClass("loading").css("top",_top); bIE7&&(_ele.imgloaderDOM.loader.css({width:180,height:110,left:imgloaderReize().left,display:"block"}),_ele.imgloaderDOM.loaderImg.css({width:160,height:90}),_ele.imgloaderDOM.loaderLoading.css({width:160,height:90,top:0}));_ele.imgloaderDOM.loaderImg.html('<a href="'+_picurl+'" target="_blank"><img src="'+a+'" /></a>');_ele.imgloaderDOM.loaderTextBlock.html(b);_ele.imgloaderDOM.loaderTextResizeLink.attr("href",_picurl);for(var d=0;d<_page.imgs.length;d++)if(a==_page.imgs[d][0])_ele.imgloaderCurImg= d;d=_ele.imgloaderDOM.loaderImg.find("img")[0];jQuery(d).css("opacity",0).bind("error",function(){_ele.imgloaderDOM.loaderImg.html('<div class="global-imgloader-error">\u56fe\u7247\u8bfb\u53d6\u5931\u8d25<br /><a href="#" onclick="_ele.loadimg(\''+a+"?"+_178func.timeHash()+"','"+b+"');return false\">\u70b9\u51fb\u6b64\u5904</a>\u91cd\u65b0\u8bfb\u53d6</div>");bIE6&&_ele.imgloaderDOM.loaderClose.css("display","inline").css("display","block")}).load(function(){if(_ele.imgloaderLoaded)return!1;var a= imgloaderReize(jQuery(this).width(),jQuery(this).height()),b=jQuery(this).width()!=a.width;jQuery(this).css("width",a.width).css("height",a.height);bIE7?(_ele.imgloaderDOM.loader.animate({left:a.left,top:a.top+c,width:a.width+20,height:a.height+20},400),bIE6||_ele.imgloaderDOM.loaderLoading.animate({width:a.width,height:a.height},400)):_ele.imgloaderDOM.loader.animate({top:a.top+c},400);_ele.imgloaderDOM.loaderImg.animate({width:a.width,height:a.height},400,function(){_ele.imgloaderDOM.loaderImg.find("img").eq(0).animate({opacity:1}, 400);_ele.imgloaderDOM.loaderTextBlock.animate({height:30},400,function(){_178func.counter(_ele.imgloaderDOM.loaderImg.find("a").eq(0).attr("href").replace("?img=","?imgcounter="));bIE6&&_ele.imgloaderDOM.loaderClose.css("display","inline").css("display","block");b?(bIE7&&!bIE6&&_ele.imgloaderDOM.loaderTextResize.css("top",a.height-15),_ele.imgloaderDOM.loaderTextResize.fadeIn(function(){_ele.tempAni=!1})):_ele.tempAni=!1})});bIE6&&_ele.imgloaderDOM.loaderClose.css("display","inline").css("display", "block");_ele.imgloaderCurImg!==!1&&jQuery("#global-imgloader-arrows").css("display","block");_ele.imgloaderLoaded=!0}).each(function(){this.complete&&jQuery(this).trigger("load")});return!1};this.alert=function(a,b){if(!a)return!1;b||(b=300);_ele.blackout(!0);this.imgloaderInit();var c=bIE6?document.documentElement.scrollTop:0;_top=imgloaderReize().top+c;_ele.imgloaderDOM.loader.addClass("loading").css("top",_top);bIE7&&(_ele.imgloaderDOM.loader.css({width:180,height:110,left:imgloaderReize().left, display:"block"}),_ele.imgloaderDOM.loaderImg.css({width:b,height:90}),_ele.imgloaderDOM.loaderLoading.css({width:b,height:90,top:0}));_ele.imgloaderDOM.loaderImg.html('<div class="global-imgloader-alert" style="width:'+b+'px">'+a+"</div>");var d=imgloaderReize(b,jQuery("#global-imgloader .global-imgloader-img .global-imgloader-alert").height()+20);bIE7?(_ele.imgloaderDOM.loader.css({left:d.left,top:d.top+c,width:d.width+20,height:d.height+20}),bIE6||_ele.imgloaderDOM.loaderLoading.css({width:d.width, height:d.height})):_ele.imgloaderDOM.loader.css("top",d.top+c);_ele.imgloaderDOM.loaderImg.css({width:d.width,height:d.height});bIE6&&_ele.imgloaderDOM.loaderClose.css("display","inline").css("display","block");return!1}}; function imgloaderReize(a,b){a||(a=160);b||(b=90);var c=a,d=b;if(b+80>jQuery(window).height()){var d=jQuery(window).height()-80,e=c=d*a/b,f=d;c+80>jQuery(window).width()&&(c=jQuery(window).width()-80,d=f*c/e)}_t=(jQuery(window).height()-d)/2;_l=(jQuery(window).width()-c)/2;return{left:_l-parseInt(jQuery("body").css("margin-left")),top:_t-parseInt(jQuery("body").css("margin-top")),width:c,height:d}} var _tip={isinit:!1,isshow:!1,isfloat:!1,tipblock:!1,contblock:!1,curnode:!1,curloading:!1,maxwidth:350,cache:[],options:{pos:"mouse",usetable:!1,classname:_178.tipclass||"tooltip-default"},curoptions:{},init:function(){if(_tip.isinit)return!1;_tip.tipblock=jQuery('<div id="global-tooltip" />').appendTo("body");if(_tip.curoptions.usetable){var a=jQuery("<table>",{cellspacing:0,cellpadding:0}).addClass("tooltip").appendTo(_tip.tipblock),b=jQuery("<td>").attr("valign","top").text(" "),c=jQuery("<tr>"), d=b.clone();a.append(c.clone().append(b.clone().addClass("top-left")).append(b.clone().addClass("top-center")).append(b.clone().addClass("top-right"))).append(c.clone().append(b.clone().addClass("middle-left")).append(d.addClass("middle-center")).append(b.clone().addClass("middle-right"))).append(c.clone().append(b.clone().addClass("bottom-left")).append(b.clone().addClass("bottom-center")).append(b.clone().addClass("bottom-right")));_tip.contblock=d}else _tip.contblock=jQuery("<div />").addClass("tooltip").appendTo(_tip.tipblock); _tip.maxwidth=parseInt(_tip.tipblock.css("max-width"))||_tip.maxwidth;bIE6&&_tip.tipblock.css("width","auto");_tip.isinit=!0},show:function(a,b,c){if(!a&&_tip.isshow)return!1;b||(b="body");_tip.curnode=jQuery(b);c=c===!0?{pos:"bottomright"}:c||{};c.classname=c.classname||_178.tipclass;_tip.curoptions=jQuery.extend({},_tip.options,c);jQuery.extend(_tip.curoptions,{title:b.title||"",alt:b.alt||""});if(a===b.title)a=_tip.curoptions.title;_tip.init();_tip.position(a,!0);b.title="";b.alt="";jQuery(b).unbind("mouseout.tooltip").bind("mouseout.tooltip", function(){_tip.hide()});_tip.isshow=!0},position:function(a,b){_tip.tipblock.removeClass(_tip.curoptions.classname).css({width:"auto"});_tip.curoptions.pos!="mouse"&&_tip.tipblock.css({top:"-1000px",left:"-1000px"});_tip.contblock.html(a);_tip.tipblock.addClass(_tip.curoptions.classname).css("width",bIE6&&_tip.contblock.width()>_tip.maxwidth?_tip.maxwidth:_tip.tipblock.width());var c=_tip["_"+_tip.curoptions.pos](_tip.tipblock.width(),_tip.tipblock.height());c&&(_tip.move(c.x,c.y),bIE6&&b&&_tip.position(a))}, hide:function(){if(!_tip.isinit||!_tip.isshow)return!1;_tip.curnode.unbind("mousemove.tooltip");_tip.curnode[0].title=_tip.curoptions.title;_tip.curnode[0].alt=_tip.curoptions.alt;_tip.curnode=!1;_tip.curoptions={};_tip.tipblock.removeClass(_tip.curoptions.classname).css({width:"auto",top:"-1000px",left:"-1000px"});_tip.contblock.html();_tip.curloading=!1;_tip.isshow=!1},move:function(a,b){_tip.tipblock.css({top:b,left:a})},_mouse:function(a,b){_tip.curnode.unbind("mousemove.tooltip").bind("mousemove.tooltip", function(c){var d=c.pageX+25,c=c.pageY+20,e=jQuery(window).width(),f=jQuery(window).height(),g=jQuery(window).scrollTop(),k=jQuery(window).scrollLeft();d+a+25>e+k&&(d=d-a-25-20);c+10+b>f+g&&(c=f+g-b-10);_tip.move(d,c)})},_bottomright:function(a,b){var c=_tip.curnode.offset(),d=c.left+_tip.curnode.outerWidth(),c=c.top+_tip.curnode.outerHeight();return _tip.checkpos(d,c,a,b)},_bottomleft:function(a,b){var c=_tip.curnode.offset(),d=c.left-a,c=c.top+_tip.curnode.outerHeight();return _tip.checkpos(d,c, a,b)},_topright:function(a,b){var c=_tip.curnode.offset(),d=c.left+_tip.curnode.outerWidth();return _tip.checkpos(d,c.top-b,a,b)},_topleft:function(a,b){var c=_tip.curnode.offset();return _tip.checkpos(c.left-a,c.top-b,a,b)},checkpos:function(a,b,c,d){var e=_tip.curnode.offset();a+c+5>jQuery(window).width()?a=e.left-c-5:a<0&&(a=15);b+d+10>jQuery(window).scrollTop()+jQuery(window).height()?b=b-10-(b+d-(jQuery(window).scrollTop()+jQuery(window).height())):e.top-100<jQuery(window).scrollTop()?b=e.top+ _tip.curnode.outerHeight():b<jQuery(window).scrollTop()?b=jQuery(window).scrollTop()+10:b<0&&(b=15);return{x:a,y:b}}},_slideshow=new function(){this.isinit=this.cur=this.to=this.old=this.max=this.time=this.animate=this.interval=this.intervalTime=!1;this.duration=400;this.autotime=5E3;this.dom={block:!1,link:!1,imagesblock:!1,images:!1,textsblock:!1,texts:!1,list:!1,bar:!1};this.links=[];this.imgloaded=[];this.init=function(){if(this.isinit||jQuery("#global-slideshow").length<1)return!1;if(!(this.dom.block= jQuery("#global-slideshow")))return!1;this.dom.link=jQuery(this.dom.block).find(".global-slideshow-body > a");this.dom.imagesblock=jQuery(this.dom.link).find(".global-slideshow-images");this.dom.textsblock=jQuery(this.dom.link).find(".global-slideshow-texts");this.dom.list=jQuery(this.dom.block).find(".global-slideshow-links");jQuery(this.dom.list).find("a").each(function(a){if(a<jQuery(_slideshow.dom.list).find("a").length-1){jQuery(this).removeClass("cur");jQuery(this).find("span").outerHeight()< jQuery(this).height()&&jQuery(this).addClass("alt");var b,c,d,e;b=this.href;c=jQuery(this).find("small").html();d=jQuery(this).find("span").html();e=jQuery(this).find("i").html();c||(c="");_slideshow.links.push({link:b,title:d,subhead:c,img:e});_slideshow.imgloaded.push(!1);a>0?(_slideshow.dom.imagesblock.append('<img src="" alt="'+d+'" class="_init" />'),_slideshow.dom.textsblock.append("<strong"+(c==""&&c!=d?' class="alt"':"><small>"+c+"</small")+"><span>"+d+"</span></strong>")):(jQuery(this).addClass("cur"), _slideshow.dom.imagesblock.find("img").removeClass("cur").addClass("loading").css("opacity",0));jQuery(this).bind("mousemove",function(){_slideshow.roll(a)}).bind("mouseout",function(){_slideshow.rollStop(a)});_slideshow.max=a}});this.dom.images=this.dom.imagesblock.find("img");this.dom.images.each(function(a){jQuery(this).bind("load",function(){_slideshow.imgload(a,this)})});this.dom.texts=this.dom.textsblock.find("strong");this.dom.block.append('<div class="global-slideshow-timing"><b></b></div>'); this.dom.bar=this.dom.block.find(".global-slideshow-timing")[0];this.cur=-1;this.intervalStart(!0);this.dom.block.bind("mousemove",function(){_slideshow.intervalStop()}).bind("mouseout",function(){_slideshow.interval||_slideshow.intervalStart()});this.isinit=!0};this.checklistheight=function(){jQuery(this.dom.list).find("a").each(function(a){jQuery(this).removeClass("alt");a<jQuery(_slideshow.dom.list).find("a").length-1&&jQuery(this).find("span").outerHeight()<jQuery(this).height()&&jQuery(this).addClass("alt")})}; this.imgload=function(a,b){jQuery(b).hasClass("_init")&&jQuery(b).removeClass("_init");this.imgloaded[a]=!0;this.cur==a&&this.rollimg(a)};this.rollimg=function(a){jQuery(this.dom.images[a]).animate({opacity:1,top:0},this.duration,function(){jQuery(_slideshow.dom.images[a]).removeClass("loading").addClass("cur")});jQuery(this.dom.texts[a]).animate({opacity:1,top:0},this.duration,function(){jQuery(_slideshow.dom.texts[a]).removeClass("loading").addClass("cur");_slideshow.interval&&_slideshow.intervalStart()})}; this.rollStop=function(){clearTimeout(this.time);this.time=!1;jQuery(this.dom.bar).find("b").css("width",0)};this.roll=function(a){if(this.cur==a)return!1;!a&&a!==0&&(a=this.cur+1);a>this.max&&(a=0);this.rollStop();this.to=a;this.time=setTimeout(function(){_slideshow.old=_slideshow.cur;jQuery(_slideshow.dom.images[_slideshow.cur]).stop().animate({opacity:0},_slideshow.duration,function(){jQuery(_slideshow.dom.images[_slideshow.old]).removeClass("cur")}).css("z-index",1);jQuery(_slideshow.dom.images[_slideshow.to]).stop().css({opacity:0, top:bIE6?0:40,"z-index":2}).addClass("loading");jQuery(_slideshow.dom.texts[_slideshow.cur]).stop().animate({opacity:0},_slideshow.duration,function(){jQuery(_slideshow.dom.texts[_slideshow.old]).removeClass("cur")}).css("z-index",1);jQuery(_slideshow.dom.texts[_slideshow.to]).stop().css({opacity:0,top:bIE6?0:40,"z-index":2}).addClass("loading");_slideshow.imgloaded[_slideshow.to]?_slideshow.rollimg(_slideshow.to):_slideshow.dom.images[_slideshow.to].src=_slideshow.links[_slideshow.to].img+"?"+_178func.timeHash(); _slideshow.dom.link[0].href=_slideshow.links[a].link;jQuery(_slideshow.dom.list).find("a").removeClass("cur");jQuery(_slideshow.dom.list).find("a").eq(_slideshow.to).addClass("cur");_slideshow.cur=_slideshow.to;_slideshow.checklistheight()},100)};this.intervalStop=function(a){clearTimeout(this.intervalTime);this.intervalTime=!1;if(!a)this.interval=!1;jQuery(this.dom.bar).find("b").css("width",0)};this.intervalStart=function(a){this.interval=!0;this.intervalTime=setTimeout(function(){_slideshow.interval&& (_slideshow.roll(),_slideshow.intervalStop(!0))},a?0:5E3)}},_page=new function(){function a(a){var c=encodeURIComponent(location.href),d=encodeURIComponent(document.title),e=encodeURIComponent(jQuery("#digest").html()||""),a=a.replace("%url%",c),a=a.replace("%title%",d);return a=a.replace("%summary%",e)}this.imgs=[];this.imgsDOM=[];this.scrollDOM=[];this.imglinks=function(a){a=a||jQuery("#"+_178.textblockId);a.find("img").each(function(){var a=jQuery(this),b=!1,e=!1,f=!1,g=this.src,k="",i=!0;if(a.parent().eq(0).hasClass("imglink"))a.trigger("load"); else if(a.parent()[0].tagName.toLowerCase()=="p"||a.parent()[0].tagName.toLowerCase()=="center"){if(/<(p|center)([^>]*)><img([^>]+)><\/(p|center)>/i.test(a.parent()[0].outerHTML||(new XMLSerializer).serializeToString(a.parent()[0])))b=!0,e=a.parent()[0]}else if(a.parent()[0].tagName.toLowerCase()=="a"&a.parent().parent()[0].tagName.toLowerCase()=="p"&&(k=/\<p([^\>]*)\>\<a([^\>]*)href=\"([^\>\"]*)\"([^\>]*)\>\<img([^\>]+)\>\<\/a\>\<\/p\>/i.exec(a.parent().parent()[0].outerHTML||(new XMLSerializer).serializeToString(a.parent().parent()[0]))))b= !0,f=a.parent(),e=a.parent().parent()[0],g=k[3];if(this.align&&this.align||b){a.load(function(){if(!jQuery(this).hasClass("autosized")&&jQuery(this).parent().hasClass("imglink")){var a=jQuery(this).width(),b=jQuery(this).height(),c=!1;if(a){if(a>_178.imgmaxwidth)b=Math.ceil(_178.imgmaxwidth*b/a),a=_178.imgmaxwidth,c=!0;jQuery(this).css("width",a).css("height",b).addClass("autosized");jQuery(this).parent()[0].tagName.toLowerCase()=="a"?jQuery(this).parent().css("width",jQuery(this).outerWidth(!0)): c||jQuery(this).parent().addClass("imglink-enlarge")}}});this.complete&&a.trigger("load");/\.(jpg||png||gif)([\?]*)([0-9]*)$/i.test(g)||(i=!1);var b=f||jQuery("<a />"),j=this.alt||null;b.attr({href:g,target:"_blank"}).addClass("imglink");this.align&&this.align&&b.css("float",this.align).addClass("imglink-float");i?(b.bind("click",function(){_ele.loadimg(g,j,!0);return!1}),_page.imgs.push([g,j])):b.addClass("imglink-noenlarge");_page.imgsDOM.push(this);f||a.wrap(b);if(e&&(!this.align||!this.align))e.align= "center";this.align="";if(j)a.after("<span>"+j+"</span>"),this.alt="";jQuery("<em />").addClass("imglink-enlarge").insertAfter(a);this.onreadystatechange=function(){!bIE6&&this.readyState=="loading"&&a.trigger("load")};a.trigger("load")}});jQuery(window).load(function(){for(var a=0;a<_page.imgsDOM.length;a++)jQuery(_page.imgsDOM[a]).trigger("load")})};this.linktip=function(a){a||(a=jQuery("body"));a.find("a").each(function(){jQuery(this).hasClass("hastip")&&jQuery(this).bind("mouseover",function(){_tip.show(this.title, this)})})};this.shareblock=function(b,c){b||(b=jQuery("#global-share"));if(!b.length)return!1;var d={hasLeft:!0,shareLinks:_178.share},c=c||{},d=jQuery.extend({},d,c),e=encodeURIComponent(location.href);encodeURIComponent(document.title);encodeURIComponent(jQuery("#digest").html()||"");var f=jQuery("<div />").addClass("shareblock").addClass("clearfix").appendTo(b),g=jQuery("<div />").addClass("shareblock-left").appendTo(f);d.hasLeft&&(jQuery("<a />").attr("href","#").addClass("shareblock-copy").appendTo(g).bind("click", function(){_178func.copyToClipboard(document.title+" - "+_178.sitetitle+" - "+location.href);return!1}).html("<span></span>\u590d\u5236\u672c\u9875\u5730\u5740"),jQuery("<a />").attr("href","#").addClass("shareblock-fav").appendTo(g).bind("click",function(){_178func.addFav();return!1}).html("<span></span>\u6536\u85cf\u672c\u9875"),jQuery("<a />").attr("href","http://i.178.com/?_app=cite&_controller=index&_action=newcite&type=inner_cite&url="+e).attr("target","_blank").addClass("shareblock-i").appendTo(g).html("<span></span>\u8f6c\u8d34\u5230\u4e2a\u4eba\u7a7a\u95f4")); e=jQuery("<div />").addClass("shareblock-right").appendTo(f).append("<span>\u5206\u4eab\u5230...</span>");for(f=0;f<d.shareLinks.length;f++)_178.share[f]&&!(d.hasLeft&&_178.share[f][1]=="i178")&&(g=_178.share[f][2],jQuery("<a />").attr("href",a(g)).attr("target","_blank").attr("title","\u5206\u4eab\u672c\u9875\u5230"+_178.share[f][0]).addClass("shareblock-share-"+_178.share[f][1]).data("link",g).bind("mouseover",function(){this.href=a($(this).data("link"));_tip.show(this.title,this,{pos:"topright"})}).appendTo(e))}; this.tabblock=function(a){a||(a=jQuery("body"));a.find(".tabbed").each(function(){var a=jQuery(this).hasClass("tabbed-click"),b=jQuery(this).find(".tabbed-tabs:first > *"),e=jQuery(this).find(".tabbed-contents:first > *"),f=!1;b.each(function(g){jQuery(this).hasClass("cur")&&(f=!0);jQuery(this).bind(a?"click":"mouseover",function(){if(jQuery(this).hasClass("cur"))return!1;b.removeClass("cur");e.removeClass("cur");jQuery(this).addClass("cur");jQuery(e[g]).addClass("cur");return!1})});f||(b.eq(0).addClass("cur"), e.eq(0).addClass("cur"))})};this.searchblock=function(a){a||(a=jQuery("#global-search"));var c=a.find("input[name=wd]");if(!c.length)return!1;c.attr("title",c.val()).bind("focus",function(){jQuery(this).val()==jQuery(this).attr("title")&&jQuery(this).val("")}).bind("blur",function(){jQuery(this).val()==""&&jQuery(this).val(jQuery(this).attr("title"))});a.submit(function(){window.open("http://www.baidu.com/s?wd="+jQuery(this).find("input[name=wd]").val()+" site:"+location.host);return!1})};this.recblock= function(){jQuery(".global-rec").each(function(){var a=jQuery(this),c=a.find(".tabbed-tabs > *");if(_cookie.read("recCur")){var d=new Number(_cookie.read("recCur")>=c.length?0:_cookie.read("recCur"));c.eq(d).mouseover();_cookie.add("recCur",d+1)}else _cookie.add("recCur",1);c.each(function(a){jQuery(this).bind("mouseover",function(){_cookie.add("recCur",a+1)})});a=a.find(".global-rec-hotimg:first > a");a.hasClass("pop-hot-img")&&(a.attr({title:null,"class":null,target:"_blank"}),a.find("img:first").wrap("<i />").before("<span />"))})}; this.scrollblock=function(a){a=a||jQuery("body");a.find(".scrolled").each(function(){var a=jQuery(this),b=a.hasClass("scrolled-x");b||a.find(".scrolled-content:first").css("width",a.find(".scrolled-viewpoint:first").width()-a.find(".scrolled-scroll:first").outerWidth(!0));a.addClass("clearfix").tinyscrollbar(b?{axis:"x"}:"");_page.scrollDOM.push(a)});jQuery(window).load(function(){for(var a=0;a<_page.imgsDOM.length;a++);})}},_zhidao=new function(){this.CID=this.PID=!1;this.RN=6;this.length=20;this.load= !0;this.searchform=this.isinit=!1;this.init=function(a,b,c,d,e){if(this.isinit)return!1;a=jQuery(a||"#global-zhidao");this.PID=b||this.PID;this.CID=c||this.CID;this.RN=d||this.RN;this.length=e||this.length;if(!this.PID||!this.CID)return!1;a.find(".tabbed-tabs:first a").attr({href:"http://zhidao.178.com/qlist/"+this.CID,target:"_blank"});jQuery.getScript("http://zhidao.interface.178.com/zhidao.php?cid="+this.CID+"&rn="+this.RN,function(){for(var b=1;b<3;b++){var c=b==1?a.find(".global-zhidao-unsolved"): a.find(".global-zhidao-resolved"),d=b==1?"[\u672a\u89e3\u51b3]":"[\u5df2\u89e3\u51b3]";if(c.length){c.html("");for(var e=eval("zhidao_"+b+".result"),j=0;j<_zhidao.RN;j++){var m=e[j],h=_zhidao.split(m.title,_zhidao.length),o=jQuery("<a />").attr({href:"http://zhidao.178.com/question/"+e[j].qid+".html",target:"_blank"}).html("<strong>"+d+"</strong>"+h),n=jQuery("<li>").append(o);c.append(n);h!=m.title&&o.attr("title",m.title).bind("mouseover",function(){_tip.show(this.title,this)})}}}});this.searchform= a.find("form.global-zhidao-search");this.searchform.submit(function(){this.cids.value=_zhidao.PID+"|"+_zhidao.CID;if(!this.word.value)return _ele.alert('<div style="line-height:110px">\u8f93\u5165\u8981\u641c\u7d22\u7684\u95ee\u9898</div>'),this.word.focus(),!1;this.action="http://zhidao.178.com/search/";return!0});this.searchform.find(".global-zhidao-search-post").click(function(){var a=_zhidao.searchform[0];if(!a.word.value)return _ele.alert('<div style="line-height:110px">\u8f93\u5165\u8981\u641c\u7d22\u7684\u95ee\u9898</div>'), a.word.focus(),!1;a.action="http://zhidao.178.com/question/";a.cids.value=_zhidao.PID+"|"+_zhidao.CID;a.submit()});this.isinit=!0};this.split=function(a,b){if(b==0)return a;a.length>b&&(a=a.substr(0,b)+"...");return a}}; (function(){jQuery.fn.tinyscrollbar=function(a){function b(){h.obj.bind("mousedown",c);h.obj[0].ontouchstart=function(a){a.preventDefault();h.obj.unbind("mousedown");c(a.touches[0]);return!1};m.obj.bind("mouseup",f);if(a.scroll&&this.addEventListener)g[0].addEventListener("DOMMouseScroll",d,!1),g[0].addEventListener("mousewheel",d,!1);else if(a.scroll)g[0].onmousewheel=d}function c(a){q.start=o?a.pageX:a.pageY;a=parseInt(h.obj.css(n));p.start=a=="auto"?0:a;jQuery(document).bind("mousemove",f);document.ontouchmove= function(a){jQuery(document).unbind("mousemove");f(a.touches[0])};jQuery(document).bind("mouseup",e);h.obj.bind("mouseup",e);h.obj[0].ontouchend=document.ontouchend=function(a){jQuery(document).unbind("mouseup");h.obj.unbind("mouseup");e(a.touches[0])};return!1}function d(b){i.ratio>=1||(b=jQuery.event.fix(b||window.event),l-=(b.wheelDelta?b.wheelDelta/120:-b.detail/3)*a.wheel,l=Math.min(i[a.axis]-k[a.axis],Math.max(0,l)),h.obj.css(n,l/j.ratio),i.obj.css(n,-l),b.preventDefault())}function e(){jQuery(document).unbind("mousemove", f);jQuery(document).unbind("mouseup",e);h.obj.unbind("mouseup",e);document.ontouchmove=h.obj[0].ontouchend=document.ontouchend=null;return!1}function f(b){if(!(i.ratio>=1))p.now=Math.min(m[a.axis]-h[a.axis],Math.max(0,p.start+((o?b.pageX:b.pageY)-q.start))),l=p.now*j.ratio,i.obj.css(n,-l),h.obj.css(n,p.now);return!1}var a=jQuery.extend({axis:"y",wheel:40,scroll:!0,size:"auto",sizethumb:"auto",classViewport:"scrolled-viewpoint",classContent:"scrolled-content",classScrollbar:"scrolled-scroll"},a),g= jQuery(this),k={obj:jQuery("."+a.classViewport,this)},i={obj:jQuery("."+a.classContent,this)},j={obj:jQuery("."+a.classScrollbar,this)},m={obj:jQuery(".track",j.obj)},h={obj:jQuery(".thumb",j.obj)},o=a.axis=="x",n=o?"left":"top",r=o?"Width":"Height",l,p={start:0,now:0},q={};if(this.length>1)return this.each(function(){jQuery(this).tinyscrollbar(a)}),this;this.initialize=function(){this.update();b()};this.update=function(b){var b=b||!1,c=l;k.obj.css("overflow","hidden");j.obj.css("display","block"); l=0;k[a.axis]=k.obj[0]["offset"+r];i[a.axis]=i.obj[0]["scroll"+r];i.ratio=k[a.axis]/i[a.axis];j.obj.toggleClass("disable",i.ratio>=1);m[a.axis]=a.size=="auto"?k[a.axis]:a.size;h[a.axis]=Math.min(m[a.axis],Math.max(0,a.sizethumb=="auto"?m[a.axis]*i.ratio:a.sizethumb));j.ratio=a.sizethumb=="auto"?i[a.axis]/m[a.axis]:(i[a.axis]-k[a.axis])/(m[a.axis]-h[a.axis]);h.obj.css(n,l/j.ratio);i.obj.css(n,-l);q.start=h.obj.offset()[n];var d=r.toLowerCase();j.obj.css(d,m[a.axis]);m.obj.css(d,m[a.axis]);h.obj.css(d, h[a.axis]);if(!(i.ratio>=1)&&b&&(l=c,l+k[a.axis]>i[a.axis]&&(l=i[a.axis]-k[a.axis]),i.obj.css(n,-l),j.ratio>0&&l>0))p.now=l/j.ratio,h.obj.css(n,p.now)};return this.initialize()}})(jQuery);if(_178.acc=_cookie.read("_178c"))_178.acc=unescape(decodeURI(_178.acc)).split("#");var _globalvar={};function _178init(a){if(a)for(var b in a)switch(b){case "menudata":_menu.data=a[b];break;case "zhidao":for(var c in a[b])_zhidao[c]=a[b][c];break;default:_178[b]=a[b]}_178func.init()}jQuery(document).ready(function(){_178init(_globalvar)});